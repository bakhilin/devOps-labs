{"ast":null,"code":"var _jsxFileName = \"/home/nikita/Desktop/devOps-labs/lab5/react-frontend/src/components/root/users/UsersHome.jsx\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport BackgroundHome from \"../fragments/background/BackgroundHome\";\nimport HomeDataService from \"../../../api/hobby/HomeDataService\";\nimport AuthenticationService from \"../../../api/authentication/AuthenticationService\";\nimport { useState, useLayoutEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { useNavigate } from \"react-router-dom\";\nimport styles from \"../../../css/UserHome.module.css\";\nimport style from \"../../../css/Footer.module.css\";\nimport Footer from \"../fragments/footer/Footer\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst UserHome = () => {\n  _s();\n\n  const navigate = useNavigate();\n  const isUserLoggedIn = AuthenticationService.isUserLoggedIn();\n  const isBusinessLoggedIn = AuthenticationService.isBusinessLoggedIn();\n  const [state, setState] = useState({\n    hobbies: []\n  });\n  const [welcomeDiv, setWelcomeDiv] = useState({\n    showDiv: false\n  });\n\n  const handleSort = value => event => {\n    event.preventDefault();\n\n    if (isUserLoggedIn) {\n      navigate(`/hobbie/${value}`, {\n        state: {\n          id: value\n        }\n      });\n    } else if (isBusinessLoggedIn) {\n      navigate(`/offer/${value}`, {\n        state: {\n          id: value\n        }\n      });\n    }\n  };\n\n  useLayoutEffect(() => {\n    let unmounted = false;\n    HomeDataService().then(response => {\n      if (!unmounted) {\n        setState(response.data);\n        setWelcomeDiv({\n          showDiv: false\n        });\n        console.log(response);\n      }\n\n      if (!Object.keys(response.data).length) {\n        setWelcomeDiv({\n          showDiv: true\n        });\n      }\n    });\n    return () => {\n      unmounted = true;\n    };\n  }, [isBusinessLoggedIn, isUserLoggedIn]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(BackgroundHome, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: styles.hobbie_main,\n      children: /*#__PURE__*/_jsxDEV(\"section\", {\n        className: styles.hobbie_container_home,\n        children: [state.length !== undefined && /*#__PURE__*/_jsxDEV(\"section\", {\n          className: styles.cards,\n          children: state.map(hobby => /*#__PURE__*/_jsxDEV(\"div\", {\n            \"data-testid\": hobby.id,\n            className: styles.rapper,\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: \"#\",\n              onClick: handleSort(hobby.id),\n              className: styles.card,\n              id: hobby.id,\n              children: [/*#__PURE__*/_jsxDEV(\"section\", {\n                className: styles.card_image_container,\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: hobby.profileImgUrl,\n                  alt: \"hobby\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 72,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 71,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n                className: styles.card_content,\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: styles.card_title,\n                  children: hobby.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 76,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: styles.card_info,\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: styles.text_medium,\n                    children: \" Find out more...\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 78,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: styles.card_price,\n                    children: [hobby.price, \" CHF\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 79,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 77,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 75,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 19\n            }, this)\n          }, hobby.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 13\n        }, this), welcomeDiv.showDiv && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"article\", {\n            className: styles.introduction_home,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.intro_text,\n              children: [isUserLoggedIn && /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: styles.intro,\n                  children: \"You have no hobbie matches.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 94,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: styles.buttuns,\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: styles.link,\n                    children: /*#__PURE__*/_jsxDEV(Link, {\n                      to: \"/test\",\n                      className: styles.btn,\n                      children: \"Discover\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 99,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 98,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 97,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 21\n              }, this), isBusinessLoggedIn && /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: styles.intro,\n                  children: \"You have no hobbie offers.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 108,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: styles.buttuns,\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: styles.link,\n                    children: /*#__PURE__*/_jsxDEV(Link, {\n                      to: \"/create-offer\",\n                      className: styles.btn,\n                      children: \"Create Offer\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 111,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 110,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 109,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 107,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {\n      class: style.footer_hobbie_details\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(UserHome, \"JWvrZbRHjfNuA9VhWiXSVe6uVOc=\", false, function () {\n  return [useNavigate];\n});\n\n_c = UserHome;\nexport default UserHome;\n\nvar _c;\n\n$RefreshReg$(_c, \"UserHome\");","map":{"version":3,"sources":["/home/nikita/Desktop/devOps-labs/lab5/react-frontend/src/components/root/users/UsersHome.jsx"],"names":["React","BackgroundHome","HomeDataService","AuthenticationService","useState","useLayoutEffect","Link","useNavigate","styles","style","Footer","UserHome","navigate","isUserLoggedIn","isBusinessLoggedIn","state","setState","hobbies","welcomeDiv","setWelcomeDiv","showDiv","handleSort","value","event","preventDefault","id","unmounted","then","response","data","console","log","Object","keys","length","hobbie_main","hobbie_container_home","undefined","cards","map","hobby","rapper","card","card_image_container","profileImgUrl","card_content","card_title","name","card_info","text_medium","card_price","price","introduction_home","intro_text","intro","buttuns","link","btn","footer_hobbie_details"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport BackgroundHome from \"../fragments/background/BackgroundHome\";\nimport HomeDataService from \"../../../api/hobby/HomeDataService\";\nimport AuthenticationService from \"../../../api/authentication/AuthenticationService\";\nimport { useState, useLayoutEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { useNavigate } from \"react-router-dom\";\nimport styles from \"../../../css/UserHome.module.css\";\nimport style from \"../../../css/Footer.module.css\";\nimport Footer from \"../fragments/footer/Footer\";\n\nconst UserHome = () => {\n  const navigate = useNavigate();\n  const isUserLoggedIn = AuthenticationService.isUserLoggedIn();\n  const isBusinessLoggedIn = AuthenticationService.isBusinessLoggedIn();\n\n  const [state, setState] = useState({\n    hobbies: [],\n  });\n\n  const [welcomeDiv, setWelcomeDiv] = useState({ showDiv: false });\n\n  const handleSort = (value) => (event) => {\n    event.preventDefault();\n\n    if (isUserLoggedIn) {\n      navigate(`/hobbie/${value}`, { state: { id: value } });\n    } else if (isBusinessLoggedIn) {\n      navigate(`/offer/${value}`, { state: { id: value } });\n    }\n  };\n\n  useLayoutEffect(() => {\n    let unmounted = false;\n\n    HomeDataService().then((response) => {\n      if (!unmounted) {\n        setState(response.data);\n        setWelcomeDiv({ showDiv: false });\n        console.log(response);\n      }\n      if (!Object.keys(response.data).length) {\n        setWelcomeDiv({ showDiv: true });\n      }\n    });\n\n    return () => {\n      unmounted = true;\n    };\n  }, [isBusinessLoggedIn, isUserLoggedIn]);\n\n  return (\n    <>\n      <BackgroundHome />\n      <main className={styles.hobbie_main}>\n        <section className={styles.hobbie_container_home}>\n          {state.length !== undefined && (\n            <section className={styles.cards}>\n              {state.map((hobby) => (\n                <div\n                  data-testid={hobby.id}\n                  key={hobby.id}\n                  className={styles.rapper}\n                >\n                  <Link\n                    to=\"#\"\n                    onClick={handleSort(hobby.id)}\n                    className={styles.card}\n                    id={hobby.id}\n                  >\n                    <section className={styles.card_image_container}>\n                      <img src={hobby.profileImgUrl} alt=\"hobby\" />\n                    </section>\n\n                    <section className={styles.card_content}>\n                      <p className={styles.card_title}>{hobby.name}</p>\n                      <div className={styles.card_info}>\n                        <p className={styles.text_medium}> Find out more...</p>\n                        <p className={styles.card_price}>{hobby.price} CHF</p>\n                      </div>\n                    </section>\n                  </Link>\n                </div>\n              ))}\n            </section>\n          )}\n\n          {welcomeDiv.showDiv && (\n            <div>\n              <article className={styles.introduction_home}>\n                <div className={styles.intro_text}>\n                  {isUserLoggedIn && (\n                    <div>\n                      <p className={styles.intro}>\n                        You have no hobbie matches.\n                      </p>\n                      <div className={styles.buttuns}>\n                        <button className={styles.link}>\n                          <Link to=\"/test\" className={styles.btn}>\n                            Discover\n                          </Link>\n                        </button>\n                      </div>\n                    </div>\n                  )}\n                  {isBusinessLoggedIn && (\n                    <div>\n                      <p className={styles.intro}>You have no hobbie offers.</p>\n                      <div className={styles.buttuns}>\n                        <button className={styles.link}>\n                          <Link to=\"/create-offer\" className={styles.btn}>\n                            Create Offer\n                          </Link>\n                        </button>\n                      </div>\n                    </div>\n                  )}\n                </div>\n              </article>\n            </div>\n          )}\n        </section>\n      </main>\n      <Footer class={style.footer_hobbie_details} />\n    </>\n  );\n};\n\nexport default UserHome;\n"]},"metadata":{},"sourceType":"module"}